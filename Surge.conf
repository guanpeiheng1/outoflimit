[General]
internet-test-url = http://bing.com
proxy-test-url = http://www.google.com/generate_204
test-timeout = 3
geoip-maxmind-url = https://cdn.jsdelivr.net/gh/Hackl0us/GeoIP2-CN@release/Country.mmdb
# 在 Wi-Fi 网络不佳时尝试使用数据网络建立连接
wifi-assist = false
# 允许 WiFi 访问
# iOS，若允许远程访问将 false 改为 true
allow-wifi-access = false
# wifi-access-http-port = 6152
# wifi-access-socks5-port = 6153
# macOS，若允许远程访问将 127.0.0.1 改为 0.0.0.0
# http-listen = 0.0.0.0
# socks5-listen = 0.0.0.0
# 远程控制器 (@ 前内容为密码)
http-api-tls = false
http-api-web-dashboard = false
# 允许 Surge 请求查看器或 Surge CI 进行管理控制
external-controller-access = admin@127.0.0.1:6170
# 允许另一个 App 或者设备通过 HTTP API 控制 Surge 功能
http-api = 123456@127.0.0.1:6166
network-framework = false
ipv6 = true
compatibility-mode = 0
exclude-simple-hostnames = true
skip-proxy = localhost, *.local, 10.0.0.0/8, 100.64.0.0/10, 127.0.0.1/32, 169.254.0.0/16, 172.16.0.0/12, 192.168.0.0/16,192.168.122.1/32, 193.168.0.1/32, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32, *.crashlytics.com, passenger.t3go.cn, captive.apple.com, seed-sequoia.siri.apple.com, sequoia.apple.com, injections.adguard.org, local.adguard.org
dns-server = system, 119.29.29.29, 119.28.28.28, 223.5.5.5, 223.6.6.6, 1.2.4.8, 8.8.8.8
read-etc-hosts = true
# 日志等级 (warning, notify, info, verbose)
loglevel = notify
show-error-page-for-reject = true
# 当 Surge VIF 处理 DNS 问题时，要求 Surge 返回真实 IP 地址
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
# 让 Surge 把 TCP 连接当作 HTTP 请求来处理
force-http-engine-hosts = *.ott.cibntv.net
# UDP 转发
# udp-policy-not-supported-behaviour = reject


[Replica]
hide-apple-request = false
hide-crashlytics-request = true
hide-udp = false
# 关键词过滤器
# none 关闭关键词过滤器
# whitelist 仅记录包含关键字的请求
# blacklist（仅记录不包含关键字的请求
# pattern 匹配通配符的请求
keyword-filter-type = none
keyword-filter = (null)


[Proxy Group]
PROXY = select, policy-path=https://sub.store/download/ROC-Taiwan?target=Surge, update-interval=0
节点选择 = select, 延迟测试, 健康检测, 负载均衡, PROXY, DIRECT
漏网之鱼 = select, DIRECT, 节点选择, PROXY, Hong Kong, Taiwan, Korea, United States, Germany, United Kingdom, Japan
国外网站 = select, 节点选择, PROXY, DIRECT, Hong Kong, Taiwan, Korea, United States, Germany, United Kingdom, Japan
国外影视 = select, 节点选择, PROXY, DIRECT, Hong Kong, Taiwan, Korea, United States, Germany, United Kingdom, Japan
PayPal = select, United States, 节点选择, PROXY, DIRECT, Hong Kong, Taiwan, Korea, Germany, United Kingdom, Japan
OpenAI = select, United States, 节点选择, PROXY, DIRECT, Hong Kong, Taiwan, Korea, Germany, United Kingdom, Japan
Netflix = select, 节点选择, PROXY, DIRECT, Hong Kong, Taiwan, Korea, United States, Germany, United Kingdom, Japan
Spotify = select, 节点选择, PROXY, DIRECT, Hong Kong, Taiwan, Korea, United States, Germany, United Kingdom, Japan
广告拦截 = select, REJECT, DIRECT
运营商劫持 = select, REJECT, DIRECT
隐私跟踪 = select, REJECT, DIRECT
Hong Kong = select, include-other-group=PROXY, policy-regex-filter=香港|HK|hk
Taiwan = select, include-other-group=PROXY, policy-regex-filter=台湾|TW|台灣|tw
Korea = select, include-other-group=PROXY, policy-regex-filter=韩国|KO|韓國|KR|ko|kr
United States = select, include-other-group=PROXY, policy-regex-filter=美国|US|美國
Germany = select, include-other-group=PROXY, policy-regex-filter=德国|DE|德國
United Kingdom = select, include-other-group=PROXY, policy-regex-filter=英国|UK|英國
Japan = select, include-other-group=PROXY, policy-regex-filter=日本|JP|樱花云|櫻花雲
延迟测试 = url-test, include-other-group=PROXY, hidden=true
健康检测 = fallback, include-other-group=PROXY, hidden=true
负载均衡 = load-balance, include-other-group=PROXY, hidden=true
# 指定特定 SSID 的路由
# Proxy = subnet, default = PROXY, "SSID:Tencent-WiFi" = DIRECT, hidden=true


[Rule]
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Advertising/Advertising.list, 广告拦截
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Hijacking/Hijacking.list,运营商劫持
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Privacy/Privacy.list,隐私跟踪
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/PayPal/PayPal.list,PayPal
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/OpenAI/OpenAI.list,OpenAI
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Netflix/Netflix.list,Netflix
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Spotify/Spotify.list,Spotify
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/GlobalMedia/GlobalMedia.list,国外影视
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Global/Global.list,国外网站

RULE-SET,SYSTEM,DIRECT
GEOIP,CN,DIRECT
# 以下规则集可用于替换 GEOIP,CN,DIRECT
# RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list,DIRECT
FINAL,漏网之鱼,dns-failed


[Host]
mtalk.google.com = 108.177.125.188
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29
*.dl.playstation.net = server:119.29.29.29
*.taobao.com = server:223.5.5.5
*.tmall.com = server:223.5.5.5
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
*.tencent.com = server:119.29.29.29
*.qq.com = server:119.29.29.29
*.weixin.com = server:119.29.29.29
*.qpic.cn = server:119.29.29.29
*.jd.com = server:119.29.29.29
*.bilibili.com = server:119.29.29.29
hdslb.com = server:119.29.29.29
*.163.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29


[URL Rewrite]


[Script]


[MITM]
hostname = -*.amemv.com, ms.jr.jd.com, me-api.jd.com, api.m.jd.com
skip-server-cert-verify = true
